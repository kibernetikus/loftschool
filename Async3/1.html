<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
</head>

<body>
    <div class="container">
<input type="text" id="search">

<div class="container">

</div>
</div>
    <script>
var parent = document.querySelector('.container');
var search = document.querySelector('#search');
var elems = [];
var elements = [];

search.addEventListener('keypress', () => {
  searchCity().then(result => {
  
    for (var city of elems){
      searchtext = search.value;
      searchtext = searchtext.toLowerCase();
      city = city.toLowerCase();
     
      if(city.includes(searchtext)){
        let paragraph = document.createElement('p');
        paragraph.innerText = city;
        parent.appendChild(paragraph);
      }
      
    }
    
    
    
  })
  
});

 getCity('https://raw.githubusercontent.com/smelukov/citiesTest/master/cities.json').then( response => {
for({name} of response){
   elems.push(name);
}
  
  elems.sort();
});


function searchCity(){
return new Promise((resolve, rejected) => {
    setTimeout(() =>{
     resolve();
}, 1000);
 });
  



};






 


function getCity(url){
    return new Promise(function(resolve,reject){
    var xhr = new XMLHttpRequest();
    xhr.responseType = 'json';
    xhr.open('GET', url, true);
    xhr.addEventListener('load', ()=>{
        resolve(xhr.response);
    })
    
  
    xhr.send();
})
};













    </script>
</body>

</html>
